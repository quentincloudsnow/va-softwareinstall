<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_design_topic">
    <sys_cb_design_topic action="INSERT_OR_UPDATE">
        <compiled_topic display_value="_PRVW__c519930952a6af40ea0c6999cf1416d8">c119930913a6af4061e07f176144b0d9</compiled_topic>
        <design_definition>{"type":"FlowTopic","triggers":[{"type":"Trigger","name":"23229536e85d464dba92c55cf4d3c4ae","triggerType":"request","applicability":{"type":"Applicability","mode":"script","value":""},"id":"23229536e85d464dba92c55cf4d3c4ae"}],"goals":[{"name":"primary","trigger_id":"23229536e85d464dba92c55cf4d3c4ae","nodes":[{"type":"StartGoal","goal_id":"863a1879724b40cd8db337667cefeb64","greeting_msg":{"type":"String","mode":"string","value":"alright, let me help you with your software request"},"id":"2ad6fab7c8c943ddb9f73852199adede","name":"Start"},{"type":"TerminateGoal","goal_id":"863a1879724b40cd8db337667cefeb64","confirmation_msg":{"type":"String","mode":"string","value":""},"id":"38e0615e03ee4cc0800c6614abebed31","name":"End"},{"type":"InputPrompt","variable_id":"4b6ed2d5be31487685d41d19f2f9cc2d","message":{"type":"String","mode":"string","value":"Please type the name of the software you need to install"},"optional":false,"id":"35c21a00dbce4ef0a47beecc70a57a5e","name":"software_term","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"ScriptedAction","script":"(function execute() {\n    // reset to first page\n    vaVars.index = 0;\n\n    function getNumberOfsoftware() {\n        // count how many outages there are\n        var count = 0;\n        var gr = new GlideAggregate('x_snc_va_software_software_deployment_req');\n        gr.addQuery('product_name', 'CONTAINS', vaInputs.software_term);\n        gr.addAggregate('COUNT');\n        gr.query();\n        if (gr.next())\n            count = gr.getAggregate('COUNT');\n\n        return count;\n    }    \n\n    // set count variable\n    vaVars.count = getNumberOfsoftware();\n})()\n","id":"bedf98a3312c42438e9fc3bc0c44b317","name":"software result","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"One Software Found","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.count == 1;\n})()\n"},"id":"e8e5825ae1e749cdafaf2cba571d733f","name":"One Software Found"},{"type":"Branch","label":"Software Not Found","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.count == 0;\n})()\n"},"id":"48df40a98dc34484937ea9d7e0f1ff43","name":"Software Not Found"},{"type":"Branch","label":"Multiple Software found","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    return vaVars.count &gt; 1;\n    var msg = \"You have exactly one application service in critical state.\";\n    return msg;\n})()\n"},"id":"ca020401ceb74cf9bcc9a44126a82653","name":"Multiple Software found"}],"id":"53b0111951e34f17beae816b1b46ed33","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"I found one software that matches your request:"},"id":"db9da2dfae5347138bd3fbc29f760711","name":"onefound","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"No Software found"},"id":"e4e09be5e8b54a96a69f0449766c4875","name":"Notfound","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"OutputPrompt","value":{"type":"String","mode":"string","value":"Muliple Found"},"id":"217435eddad349e0a79c8682df54983e","name":"multiplefound","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"OutputPrompt","value":{"type":"String","mode":"script","value":"(function execute() {\n    // query current and future planned outages \n    var gr = new GlideRecord('x_snc_va_software_software_deployment_req');\n    gr.addQuery('product_name', 'CONTAINS', vaInputs.software_term);\n    gr.query();\n\n    if (gr.next()) {\n        vaVars.approvalrequired = gr.approval_required\n        vaVars.ADGroup = gr.ad_group\n    }\n    \n    var msg = gr.editor + \" \" + gr.product_name + \" \" + gr.version + \" \" + gr.edition;\n\n    return msg;\n})()"},"id":"f3875933907440f5ac0577a3e7765f91","name":"singlessoft","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"CRUDAction","mode":"read","read_mode":"variable","variable_id":"9b52132e76bd4a58afc7d02d10bcb42c","script":"(function execute(table) {\n  \n       \n       var gr = new GlideRecord(table);\n       gr.addQuery('product_name', 'CONTAINS', vaInputs.software_term);\n       gr.query();\n       if(gr.next()) {\n          return gr;\n    }\n    \n})(table)\n","id":"2115428b2f734048aa20854ed78cbaf9","name":"getsoftrecord","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"Decision","name":"Decision","branches":[{"type":"Branch","label":"No Approval Required","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.approvalrequired == 'false')\n{\n        return true;\n    }\n})()"},"id":"254410d5813f4cd484d941be8ecb18f2","name":"No Approval Required"},{"type":"Branch","label":"Requires Approval","expression":{"type":"Applicability","mode":"script","value":"(function execute() {\n    if(vaVars.approvalrequired == 'true')\n{\n        return true;\n    }\n})()"},"id":"594ef48fcfe64866951d5c8f3b03f79f","name":"Requires Approval"}],"id":"2520f1b05f4940a3bb4e149fb9d85f00","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"InputPrompt","variable_id":"72278b0621d74d41ad5a1b3ed47c5098","message":{"type":"String","mode":"string","value":"Do you want to install it?"},"optional":false,"id":"9a709b117b8448fb9aacb4415e4ff5ce","name":"installyesno","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"HtmlOutputPrompt","height":0,"width":0,"id":"68710a4098d441b98b25ab82c9d48e08","name":"redirecttomysoftware","goal_id":"863a1879724b40cd8db337667cefeb64","value":{"type":"String","mode":"string","value":"&lt;html&gt;\n    &lt;body&gt;\n &lt;div&gt;&amp;nbsp;This is part of Deloitte approved software, you can insall it directly from mySoftware:&lt;/div&gt;  \n&lt;ul style=\"list-style-position: inside;\"&gt;\n&lt;li&gt;&lt;a title=\"http://mysoftware/CMApplicationCatalog/#/SoftwareLibrary/AppListPageView.xaml\" href=\"http://mysoftware/CMApplicationCatalog/#/SoftwareLibrary/AppListPageView.xaml\" target=\"_blank\" rel=\"nofollow\"&gt;http://mysoftware/CMApplicationCatalog/#/SoftwareLibrary/AppListPageView.xaml&lt;/a&gt;&amp;nbsp;or&lt;a href=\"http://mysoftware/CMApplicationCatalog/#/SoftwareLibrary/AppListPageView.xaml\" rel=\"nofollow\"&gt;&lt;br /&gt;&lt;br /&gt;&lt;/a&gt;&lt;/li&gt;\n&lt;li&gt;Go to Start &amp;gt; Deloitte Shortcuts &amp;gt; mySoftware&lt;/li&gt;\n&lt;/ul&gt;\n    \n    &lt;/body&gt;\n&lt;/html&gt;\n"}},{"type":"InputPrompt","variable_id":"e0968d5fb1544e639c2b7f397fdafb42","message":{"type":"String","mode":"string","value":"This software requires approval and WBS Code, do you still want to request it?"},"optional":false,"id":"0a14d8d44f3d4d19bb55effa988f7f2f","name":"confirmselection","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"ChoiceInputPrompt","expression_mode":"simple","id":"587aeb16d3554a9092a68c624c1ea6e9","name":"wbscode","goal_id":"863a1879724b40cd8db337667cefeb64","variable_id":"92f113c521e74467bad97120cf453cc8","message":{"type":"String","mode":"string","value":"Please select the WBS Code"},"optional":false},{"type":"CRUDAction","mode":"create","query":"parent_interaction={{create_interaction_record}}^short_description=Install Software {{getsoftrecord.product_name}}  {{getsoftrecord.version}}  {{getsoftrecord.edition}}^requested_for={{user}}^description={{getsoftrecord.ad_group}}^special_instructions={{getsoftrecord.ad_group}}^EQ","variable_id":"a5482c2194bc489da26d74120bc08f17","id":"1b01ed1b6e4b49d6be2a5341840193ba","name":"create request","goal_id":"863a1879724b40cd8db337667cefeb64"},{"type":"CRUDAction","mode":"create","query":"short_description=Request Software installation for {{software_term}}^state=new^opened_for={{user}}^EQ","variable_id":"b5cb0748f28e4d6ebac9ced350a7f0bf","id":"9629946a93dd4dce9e8eea6ccdb20548","name":"Create Interaction Record","goal_id":"863a1879724b40cd8db337667cefeb64"}],"edges":[{"type":"Edge","source_node_id":"1b01ed1b6e4b49d6be2a5341840193ba","target_node_id":"38e0615e03ee4cc0800c6614abebed31","id":"29821b72c82647e7a196a8bd65205736"},{"type":"Edge","source_node_id":"9a709b117b8448fb9aacb4415e4ff5ce","target_node_id":"38e0615e03ee4cc0800c6614abebed31","id":"689b094ef8654861911f9861f2eb7584"},{"type":"Edge","source_node_id":"2ad6fab7c8c943ddb9f73852199adede","target_node_id":"35c21a00dbce4ef0a47beecc70a57a5e","id":"6436df2c62cb48c89492ee55e504a825"},{"type":"Edge","source_node_id":"bedf98a3312c42438e9fc3bc0c44b317","target_node_id":"53b0111951e34f17beae816b1b46ed33","id":"588685c89a0d49e0b9a190e2d674b890"},{"type":"Edge","source_node_id":"53b0111951e34f17beae816b1b46ed33","target_node_id":"db9da2dfae5347138bd3fbc29f760711","branch_id":"e8e5825ae1e749cdafaf2cba571d733f","id":"f251fd1e22d440e9a7451d22d3efc2ee","name":"e8e5825ae1e749cdafaf2cba571d733f"},{"type":"Edge","source_node_id":"53b0111951e34f17beae816b1b46ed33","target_node_id":"e4e09be5e8b54a96a69f0449766c4875","branch_id":"48df40a98dc34484937ea9d7e0f1ff43","id":"007184f684de4f30958c5793e0686492","name":"48df40a98dc34484937ea9d7e0f1ff43"},{"type":"Edge","source_node_id":"e4e09be5e8b54a96a69f0449766c4875","target_node_id":"38e0615e03ee4cc0800c6614abebed31","id":"2dc814352be24986a6c3fee702b29b84"},{"type":"Edge","source_node_id":"53b0111951e34f17beae816b1b46ed33","target_node_id":"217435eddad349e0a79c8682df54983e","branch_id":"ca020401ceb74cf9bcc9a44126a82653","id":"0ceed329d4af441fb16023598b9a6e55","name":"ca020401ceb74cf9bcc9a44126a82653"},{"type":"Edge","source_node_id":"217435eddad349e0a79c8682df54983e","target_node_id":"38e0615e03ee4cc0800c6614abebed31","id":"432f0b7b5ef24273b11b2937d80156c1"},{"type":"Edge","source_node_id":"db9da2dfae5347138bd3fbc29f760711","target_node_id":"f3875933907440f5ac0577a3e7765f91","id":"aa580317405f495ca498c756fc4a46fb"},{"type":"Edge","source_node_id":"f3875933907440f5ac0577a3e7765f91","target_node_id":"2115428b2f734048aa20854ed78cbaf9","id":"28a91fa447bf4ce3955a8ea22cb80d14"},{"type":"Edge","source_node_id":"2115428b2f734048aa20854ed78cbaf9","target_node_id":"2520f1b05f4940a3bb4e149fb9d85f00","id":"56d277c052e047a0a1bc3f830c32f566"},{"type":"Edge","source_node_id":"2520f1b05f4940a3bb4e149fb9d85f00","target_node_id":"68710a4098d441b98b25ab82c9d48e08","branch_id":"254410d5813f4cd484d941be8ecb18f2","id":"2a102bae428c4d63a10919aeabed0afe","name":"254410d5813f4cd484d941be8ecb18f2"},{"type":"Edge","source_node_id":"68710a4098d441b98b25ab82c9d48e08","target_node_id":"9a709b117b8448fb9aacb4415e4ff5ce","id":"d979b9740dc3443faf435cef7ec51402"},{"type":"Edge","source_node_id":"2520f1b05f4940a3bb4e149fb9d85f00","target_node_id":"0a14d8d44f3d4d19bb55effa988f7f2f","branch_id":"594ef48fcfe64866951d5c8f3b03f79f","id":"ac8fa0a09f7f4c9c8b3b1fd04dfd3769","name":"594ef48fcfe64866951d5c8f3b03f79f"},{"type":"Edge","source_node_id":"0a14d8d44f3d4d19bb55effa988f7f2f","target_node_id":"587aeb16d3554a9092a68c624c1ea6e9","id":"fc152abe18434ff8b39b66c0d7b9ceb7"},{"type":"Edge","source_node_id":"587aeb16d3554a9092a68c624c1ea6e9","target_node_id":"1b01ed1b6e4b49d6be2a5341840193ba","id":"072052d06d624667a34d7efeb5a8b49e"},{"type":"Edge","source_node_id":"35c21a00dbce4ef0a47beecc70a57a5e","target_node_id":"9629946a93dd4dce9e8eea6ccdb20548","id":"12da5a33cd3440bf96be783dccc59db1"},{"type":"Edge","source_node_id":"9629946a93dd4dce9e8eea6ccdb20548","target_node_id":"bedf98a3312c42438e9fc3bc0c44b317","id":"0d207cf4de3b4dbd95e0f1d6e01aa086"}],"id":"863a1879724b40cd8db337667cefeb64"}],"script_variables":[{"type":"String","name":"count","value":{"type":"String","mode":"string","value":""},"id":"888ce160d2484a89a6fafdd3d4f74930"},{"type":"String","name":"approvalrequired","value":{"type":"String","mode":"string","value":""},"id":"17631b141ad64f62b8e2bcf787d08505"},{"type":"String","name":"ADGroup","value":{"type":"String","mode":"string","value":""},"id":"a3cb4a0d3d9c472b8d03e2d72c7a63fb"}],"glide_variables":[{"type":"String","name":"software_term","id":"4b6ed2d5be31487685d41d19f2f9cc2d"},{"type":"True/False","id":"72278b0621d74d41ad5a1b3ed47c5098","name":"installyesno"},{"type":"Reference","table":"x_snc_va_software_software_deployment_req","id":"9b52132e76bd4a58afc7d02d10bcb42c","name":"getsoftrecord"},{"type":"True/False","id":"e0968d5fb1544e639c2b7f397fdafb42","name":"confirmselection"},{"type":"Choice","choices":[{"name":"WBS-17IT0001-SWFT-0001","element":"WBS-17IT0001-SWFT-0001"},{"name":"WBS-17IT0002-PAUD-0001-OP-03","element":"17IT0002-PAUD-0001-OP-03"},{"name":"WBS-17IT0003-PAUD-0001-O","element":"17IT0002-PAUD-0001-OP-03"},{"name":"WBS-17IT0004-PAUD-0001-O","element":"17IT0002-PAUD-0001-OP-03"}],"id":"92f113c521e74467bad97120cf453cc8","name":"wbscode"},{"type":"Reference","table":"sc_request","id":"a5482c2194bc489da26d74120bc08f17","name":"create_request"},{"type":"Reference","table":"interaction","id":"b5cb0748f28e4d6ebac9ced350a7f0bf","name":"create_interaction_record"}],"applicability":{"type":"Applicability","mode":"script","value":""},"roles":[],"scope":"5048e17013ae2f4061e07f176144b005","id":"806aa97413ae2f4061e07f176144b031","name":"_PRVW__c519930952a6af40ea0c6999cf1416d8","key_phrases":["Install a software","visio","project","microsoft visio","microsoft project"]}</design_definition>
        <design_topic_id>806aa97413ae2f4061e07f176144b031</design_topic_id>
        <name>_PRVW__c519930952a6af40ea0c6999cf1416d8</name>
        <sys_class_name>sys_cb_design_topic</sys_class_name>
        <sys_created_by>quentin.carton</sys_created_by>
        <sys_created_on>2018-12-21 19:35:28</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>4d19930913a6af4061e07f176144b0db</sys_id>
        <sys_mod_count>0</sys_mod_count>
        <sys_name>FlowTopic</sys_name>
        <sys_package display_value="va software deployment" source="x_snc_va_software">5048e17013ae2f4061e07f176144b005</sys_package>
        <sys_policy/>
        <sys_scope display_value="va software deployment">5048e17013ae2f4061e07f176144b005</sys_scope>
        <sys_update_name>sys_cb_design_topic_4d19930913a6af4061e07f176144b0db</sys_update_name>
        <sys_updated_by>quentin.carton</sys_updated_by>
        <sys_updated_on>2018-12-21 19:35:28</sys_updated_on>
        <type>FlowTopic</type>
    </sys_cb_design_topic>
</record_update>
